---
sidebar_position: 1
---

# üñ•Ô∏è Pr√©paration du PC

Cette page vous guide dans la mise en place de l'environnement requis pour suivre le workshop ROS 2.

:::info
Nous recommandons d‚Äôutiliser **üêß Ubuntu 24.04 LTS** avec l‚Äôinstallation de **ROS 2 Jazzy**.
:::

--- 
## üñ•Ô∏è 1. Installation du syst√®me d‚Äôexploitation

### üêß Ubuntu 24.04 (recommand√©)

Si vous utilisez Windows, vous pouvez cr√©er une **cl√© USB bootable avec Ubuntu 24.04**, soit pour l‚Äôinstaller en dual-boot, soit pour utiliser une session **live persistante**.

#### 1. T√©l√©charger Ubuntu 24.04

üëâ Rendez-vous sur le site officiel : [ubuntu.com/download/desktop](https://ubuntu.com/download/desktop)

T√©l√©chargez l‚Äôimage `.iso` de la version 24.04 LTS.

#### 2. Cr√©er une cl√© USB bootable (avec ou sans persistance)

:::info 
**Rufus** est un outil gratuit pour cr√©er une cl√© USB bootable Ubuntu.  Il permet aussi d‚Äôactiver la **persistance**, c‚Äôest-√†-dire la **capacit√© de conserver vos fichiers et configurations** d'une session √† l'autre.
:::

:::tip
Si vous souhaitez suivre le workshop avec une cl√© USB persistante plut√¥t qu'un dual-boot, nous vous recommandons une cl√© USB de **32 Go minimum** pour une exp√©rience fluide.
:::

:::warning Cl√© USB persistante
Une **cl√© USB avec persistance** peut sembler pratique, mais **elle reste beaucoup plus lente et moins fiable qu‚Äôun vrai syst√®me install√©** sur le PC en dual-boot.
:::

1. T√©l√©charger Rufus : [rufus.ie](https://rufus.ie)
2. Lancer Rufus et choisir :
   - **Image ISO** : `ubuntu-24.04-desktop-amd64.iso`
   - **Mode de d√©marrage** : *Disque ou image ISO (mode DD)*
   - **Type de partition** : *GPT* (pour UEFI) ou *MBR* (anciens BIOS)
   - **Stockage persistant** : activer et allouer un espace (ex. 4 Go ou plus) (optionnel)
3. Cliquer sur **D√©marrer** et attendre la fin du processus.


#### 3. D√©marrer l‚Äôordinateur sur la cl√© USB

Pour utiliser Ubuntu :
1. Red√©marrez votre PC **avec la cl√© USB branch√©e**
2. Acc√©dez au **menu de d√©marrage (boot menu)** :
   - Appuyez rapidement sur `F12`, `F10`, `ESC` ou `DEL` selon votre PC (souvent affich√© au d√©marrage)
3. S√©lectionnez votre **cl√© USB** comme p√©riph√©rique de d√©marrage
4. Choisissez :
   - **"Try Ubuntu"** pour une session temporaire ou persistante
   - ou **"Install Ubuntu"** pour cr√©er un dual-boot

---

### üê≥ Alternatives (WSL¬†2 / Docker)

:::info
Vous pouvez aussi tester ROS 2 sous **WSL¬†2** ou avec **Docker**.
:::

:::warning Limites s√©rieuses
- ‚ùå Ports s√©rie / USB non fonctionnels
- ‚ùå Cam√©ras, LiDAR, p√©riph√©riques inaccessibles
- ‚ùå Multicast / DDS / ROS 2 r√©seau instable
- ‚ùå RViz, Gazebo limit√©s

üéØ **D√©conseill√© pour les manipulations r√©elles**.
:::

Nous ne mettons pas actuellement en place de guide pour ces alternatives, mais vous pouvez trouver des ressources en ligne.

---

## üíª 2. Installation de ROS 2 Jazzy

### üêß Installation sur Ubuntu 24.04

:::tip
Vous trouverez les instructions officielles sur [üåê docs.ros.org ‚Äì Ubuntu Install (Jazzy)](https://docs.ros.org/en/jazzy/Installation/Ubuntu-Install-Debians.html)
:::

#### 1. Mettre √† jour votre syst√®me

```bash
sudo apt update && sudo apt upgrade
```

#### 2. Activer le d√©p√¥t universe

```bash
sudo apt install software-properties-common
sudo add-apt-repository universe
```

#### 3. Installer curl et pr√©parer le d√©p√¥t ROS

```bash
sudo apt update && sudo apt install curl -y
export ROS_APT_SOURCE_VERSION=$(curl -s https://api.github.com/repos/ros-infrastructure/ros-apt-source/releases/latest | grep -F "tag_name" | awk -F\" '{print $4}')
curl -L -o /tmp/ros2-apt-source.deb "https://github.com/ros-infrastructure/ros-apt-source/releases/download/${ROS_APT_SOURCE_VERSION}/ros2-apt-source_${ROS_APT_SOURCE_VERSION}.$(. /etc/os-release && echo $VERSION_CODENAME)_all.deb" # If using Ubuntu derivates use $UBUNTU_CODENAME
sudo apt install /tmp/ros2-apt-source.deb
```

#### 4. Installer les outils et l‚Äôenvironnement complet de ROS 2 Jazzy

:::info
Cette √©tape peut prendre un certain temps, car elle t√©l√©charge et installe de nombreux paquets.
:::

```bash
sudo apt update && sudo apt install ros-dev-tools
sudo apt install ros-jazzy-desktop
```

#### 5. Configurer l‚Äôenvironnement ROS

:::tip
Pour √©viter de devoir ex√©cuter cette commande √† chaque fois, ajoutez-la automatiquement √† la fin de votre fichier `~/.bashrc` :

```bash
echo "source /opt/ros/jazzy/setup.bash" >> ~/.bashrc
``` 
Ensuite, rechargez votre shell ou red√©marrez votre terminal :
```bash
source ~/.bashrc
``` 
:::

Vous devez sourcer ROS √† chaque ouverture de terminal :

```bash
source /opt/ros/jazzy/setup.bash
```

#### 6. Tester l'installation

Lance un n≈ìud √©diteur (talker), puis un n≈ìud lecteur (listener) dans deux terminaux s√©par√©s :

```bash 
# Terminal 1 ‚Äî Lancer le talker (C++) :
ros2 run demo_nodes_cpp talker
```

```bash 
# Terminal 2 ‚Äî Lancer le listener (Python) :
ros2 run demo_nodes_py listener
```

Si tout fonctionne correctement, vous devriez voir le talker publier des messages et le listener les afficher.  
Si vous rencontrez des probl√®mes, consultez la [üåê documentation officielle de ROS 2 Jazzy](https://docs.ros.org/en/jazzy/).

--- 

## üß≠ Navigation

### ü§ñ TurtleBot 3 Burger (Robotis)

Cette section vous guide pour configurer votre PC afin de contr√¥ler un TurtleBot3 avec ROS 2 Jazzy.  
Cela inclut la simulation Gazebo, Cartographer pour le SLAM, Navigation2 pour la navigation autonome, et les packages sp√©cifiques TurtleBot3.

Assurez-vous d‚Äôavoir :
- Une installation de **Ubuntu 24.04** (ou compatible)
- ROS 2 Jazzy correctement install√©

#### 1. Installation de Gazebo Harmonic

```bash
sudo apt update
sudo apt install curl lsb-release gnupg

sudo curl https://packages.osrfoundation.org/gazebo.gpg --output /usr/share/keyrings/pkgs-osrf-archive-keyring.gpg
echo "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/pkgs-osrf-archive-keyring.gpg] http://packages.osrfoundation.org/gazebo/ubuntu-stable $(lsb_release -cs) main" | sudo tee /etc/apt/sources.list.d/gazebo-stable.list > /dev/null

sudo apt update
sudo apt install gz-harmonic
```

#### 2. Installation de Cartographer

```bash
sudo apt install ros-jazzy-cartographer ros-jazzy-cartographer-ros
```

#### 3. Installation de Navigation2
```bash
sudo apt install ros-jazzy-navigation2 ros-jazzy-nav2-bringup
```

#### 4. Installation des packages TurtleBot3

```bash
mkdir -p ~/ros2_ws/src
cd ~/ros2_ws/src/

git clone -b jazzy https://github.com/ROBOTIS-GIT/DynamixelSDK.git
git clone -b jazzy https://github.com/ROBOTIS-GIT/turtlebot3_msgs.git
git clone -b jazzy https://github.com/ROBOTIS-GIT/turtlebot3.git

sudo apt install python3-colcon-common-extensions

cd ~/ros2_ws
colcon build --symlink-install

echo 'source ~/ros2_ws/install/setup.bash' >> ~/.bashrc
source ~/.bashrc
```

#### 5. Configuration de l'environnement TurtleBot3

:::note
Assurez-vous de remplacer `<votre_num√©ro_de_groupe>` par le **ROS_DOMAIN_ID correspondant √† votre groupe**.  
Ce num√©ro doit √™tre **identique sur le PC et le TurtleBot3**, mais **diff√©rent des autres groupes** travaillant sur le m√™me r√©seau Wi-Fi.
:::

```bash
echo 'export ROS_DOMAIN_ID=<votre_num√©ro_de_groupe> ' >> ~/.bashrc
echo 'export TURTLEBOT3_MODEL=burger' >> ~/.bashrc

source ~/.bashrc
```

--- 

## ‚úã Manipulation

### ü¶æ OpenMANIPULATOR-X (Robotis)

Cette section vous permet de configurer la simulation du bras OpenMANIPULATOR-X.

#### 1. D√©finir le mod√®le de robot

Pour utiliser le mod√®le OpenMANIPULATOR-X, ajoutez la configuration suivante √† votre `~/.bashrc` :

```bash
echo 'export ROBOT_MODEL=om_x' >> ~/.bashrc
source ~/.bashrc
```

#### 2. Installer les d√©pendances n√©cessaires

```bash
sudo apt update && sudo apt install -y \
    libboost-all-dev \
    ros-jazzy-hardware-interface \
    ros-jazzy-controller-manager \
    ros-jazzy-ros2-controllers \
    ros-jazzy-tf-transformations \
    ros-jazzy-gz* \
    ros-jazzy-pal-statistics \
    ros-jazzy-moveit-* --no-install-recommends
``` 

### 3. Cloner les sources n√©cessaires

```bash
cd ~/ros2_ws/src

git clone -b jazzy https://github.com/ROBOTIS-GIT/DynamixelSDK.git && \
git clone -b jazzy https://github.com/ROBOTIS-GIT/dynamixel_interfaces.git && \
git clone -b jazzy https://github.com/ROBOTIS-GIT/dynamixel_hardware_interface.git
``` 

#### 4. Compiler les packages

```bash
cd ~/ros2_ws
colcon build --symlink-install
source ~/ros2_ws/install/setup.bash
```
